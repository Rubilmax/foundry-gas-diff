name: Generate gas diff
author: Rubilmax
description: Easily compare gas reports generated by foundry!
branding:
  icon: info
  color: purple

inputs:
  workflowId:
    description: The workflow's file name or ID
    required: true
  token:
    description: The repository's github token
    default: ${{ github.token }}
    required: false
  report:
    description: Report freshly generated to compare to reference
    default: gasreport.ansi
    required: false
  ignore:
    description: The list of paths from which to ignore gas reports, separated by a comma.
    required: false
  match:
    description: The list of paths of which only to keep gas reports, separated by a comma.
    required: false

outputs:
  shell:
    description: The gas diff between the base gas report and the freshly generated gas report, specifically formatted for shell display
    value: ${{ steps.random-number-generator.outputs.random-id }}
  markdown:
    description: The gas diff between the base gas report and the freshly generated gas report, specifically formatted for markdown display
    value: ${{ steps.random-number-generator.outputs.random-id }}

runs:
  using: node16
  main: dist/index.js
